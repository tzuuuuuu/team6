<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>我的接單清單</title></head>
    <style type="text/css">
        body { text-align: center; }
        #container {
            width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: aliceblue;
            border: 2px solid #ccc;
        }
        table {
            width: 100%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: lightgray;
        }
    </style>

<body>
    <div id="container">
        <h2>我的已接訂單</h2>
        
        <table>
            <tr>
                <th>外送編號</th>
                <th>訂單編號</th>
                <th>取貨時間</th>
                <th>外送時間</th>
                <th>狀態</th>
            </tr>
            {% if data %}
                {% for rec in data %}
                <tr>
                    <td>{{ rec.delivery_id }}</td>
                    <td>{{ rec.order_id }}</td>
                    <td>{{ rec.pickup_time}}</td>
                    <td>{{ rec.delivery_time}}</td>
                    <td>{{ rec.delivery_status}}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="5">目前沒有接單的訂單。</td>
                </tr>
            {% endif %}
        </table>

        <h2>外送中清單</h2>
        
        <table>
            <tr>
                <th>外送編號</th>
                <th>訂單編號</th>
                <th>取貨時間</th>
                <th>外送時間</th>
                <th>狀態</th>
            </tr>
            {% if order %}
                {% for order in order %}
                <tr>
                    <td>{{ order.delivery_id }}</td>
                    <td>{{ order.order_id }}</td>
                    <td>{{ order.pickup_time}}</td>
                    <td>{{ order.delivery_time}}</td>
                    <td>{{ order.delivery_status}}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="5">目前沒有外送中的訂單。</td>
                </tr>
            {% endif %}
        </table>

        <h2>已完成清單</h2>
        
        <table>
            <tr>
                <th>外送編號</th>
                <th>訂單編號</th>
                <th>取貨時間</th>
                <th>外送時間</th>
                <th>狀態</th>
            </tr>
            {% if endorder %}
                {% for endorder in endorder %}
                <tr>
                    <td>{{ endorder.delivery_id }}</td>
                    <td>{{ endorder.order_id }}</td>
                    <td>{{ endorder.pickup_time}}</td>
                    <td>{{ endorder.delivery_time}}</td>
                    <td>{{ endorder.delivery_status}}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="5">目前沒有已完成的訂單。</td>
                </tr>
            {% endif %}
        </table>

        <a href="/allorders">返回所有訂單</a>
    </div>
</body>
</html>
